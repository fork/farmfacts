/*
 *
 * Includes XHTMLJS
 * http://codeplex.com/xhtmljs
 * 
 * Copyright (c) 2008, Jonathan M Davis
 * All rights reserved.
 * http://codeplex.com/xhtmljs/license
 *
 */
if(!window.xhtmljs)window.xhtmljs={innerXHTML:function(a,b){if(!a)return"";var c,f="";for(c=0;c<a.childNodes.length;c++){var g=a.childNodes.item(c);f+=window.xhtmljs.outerXHTML(g,b);if(xhtmlFormatting=="formatted"&&!g.tagName&&c<a.childNodes.length-1&&a.childNodes[c+1].tagName&&window.xhtmljs.tagIsLineBreaking(a.childNodes[c+1].tagName))f+="\n"}return f.replace(/\s*\n\s*\n/g,"\n")},outerXHTML:function(a,b,c){var f=a.tagName,g=a.attributes,i=a.childNodes,j=true;if(f)switch(f.toLowerCase()){case "script":case "a":case "div":case "link":j=
false;break;default:j=true}var e="",h;c||(c=0);for(h=0;h<c;h++)e+="\t";e+="<";if(f){if(!b||window.xhtmljs.tagInXhtml(f.toLowerCase())){var d;e+=f.toLowerCase();if(g){h=false;for(d=0;d<g.length;d++){var l=g.item(d).nodeName,k=g.item(d).value;if(k!=null&&k!="null"&&k.trim()!=""&&k!="inherit"&&(!b||window.xhtmljs.attribInXhtml(f.toLowerCase(),l.toLowerCase(),k))){if(l.toLowerCase()=="style")h=true;e+=" "+l.toLowerCase()+'="'+window.xhtmljs.xmlEncode(k)+'"'}}if(!h&&(!b||window.xhtmljs.attribInXhtml(f.toLowerCase(),
"style"))&&a.style.cssText){d="";a=a.style.cssText.split(/\;/);for(s=0;s<a.length;s++){g=a[s].split(/:/);if(g.length==2)d+=g[0].toLowerCase()+":"+g[1]+";"}e+=' style="'+d+'"'}}}if(i&&i.length>0){e+=">";e=e.replace(/<>/,"").replace(/< \/>/,"");a=j=false;for(d=0;d<i.length;d++){g=c+1;h="";if(i.item(d).tagName)if(xhtmlFormatting=="formatted"&&i.item(d).childNodes&&i.item(d).childNodes.length>0){h="\n";j=true}else g=null;else g=null;h+=window.xhtmljs.outerXHTML(i.item(d),b,g);if(xhtmlFormatting=="formatted"&&
h.substr(0,1)=="<"&&a)e+="\n";e+=h;if(xhtmlFormatting=="formatted"&&i.item(d).tagName!=undefined&&i.item(d).tagName.toString()!=""&&window.xhtmljs.tagIsLineBreaking(i.item(d).tagName)){e+="\n";for(h=0;h<c;h++)e+="\t"}a=i.item(d).tagName!=undefined}if(xhtmlFormatting=="formatted"&&j){e+="\n";for(d=0;d<c;d++)e+="\t"}if(!b||window.xhtmljs.tagInXhtml(f.toLowerCase()))e+="</"+f.toLowerCase()+">"}else if(j)e+=" />";else{e+=">";if(xhtmlFormatting=="formatted"){e+="\n";for(d=0;d<c;d++)e+="\t"}e+="</"+f.toLowerCase()+
">"}if(xhtmlFormatting=="formatted"&&f&&f.toLowerCase()!="br"&&window.xhtmljs.tagIsLineBreaking(f)){e+="\n";for(d=0;d<c;d++)e+="\t"}e=e.replace(/<>/,"").replace(/< \/>/,"");return e.replace(/\s*\n(\t*)\s*\n/g,"\n$1")}else return a.nodeValue?a.nodeType&&a.nodeType==8?"<!--"+a.nodeValue.trim()+"--\>":a.nodeValue.trim().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a.toString().indexOf("[object")!=0?a.toString().trim().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):
""},xmlAttributeEncode:function(a){return xmlEncode(a)},xmlEncode:function(a){return a.replace(/&/g,"&amp;").replace(/\"/g,"&quot;")},tagIsLineBreaking:function(a){if(!a)return false;switch(a.toLowerCase()){case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":case "br":case "p":case "div":case "table":case "blockquote":case "ul":case "ol":return true}},tagInXhtml:function(a){switch(a){case "DOCTYPE":case "doctype":case "html":case "head":case "base":case "meta":case "title":case "script":case "style":case "link":case "body":case "iframe":case "frameset":case "frame":case "a":case "abbr":case "acronym":case "area":case "b":case "bdo":case "big":case "blockquote":case "br":case "button":case "caption":case "cite":case "code":case "col":case "colgroup":case "dd":case "del":case "dfn":case "div":case "dl":case "dt":case "em":case "fieldset":case "form":case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":case "hr":case "i":case "iframe":case "img":case "input":case "ins":case "kbd":case "label":case "legend":case "li":case "map":case "noscript":case "object":case "option":case "optgroup":case "ol":case "p":case "param":case "pre":case "q":case "samp":case "select":case "script":case "span":case "small":case "strong":case "sub":case "sup":case "table":case "tbody":case "td":case "textarea":case "tfoot":case "th":case "thead":case "tr":case "tt":case "u":case "ul":case "var":return true;
default:return false}},attribInXhtml:function(a,b,c){switch(b){case "id":case "class":case "style":case "title":return window.xhtmljs.tagInXhtml(a);case "onclick":case "ondblclick":case "onmousedown":case "onmouseup":case "onmouseover":case "onmousemove":case "onmouseout":case "onkeydown":case "onkeypress":case "onkeyup":return window.xhtmljs.tagInXhtml(a);case "lang":return window.xhtmljs.tagInXhtml(a);case "dir":switch(c){case "ltr":case "rtl":return window.xhtmljs.tagInXhtml(a);default:return false}case "accesskey":case "tabindex":if(c==
"0")return false;switch(a){case "br":return false;default:return window.xhtmljs.tagInXhtml(a)}}switch(a){case "abbr":case "acronym":case "address":case "b":case "big":case "body":case "br":case "cite":case "code":case "dd":case "dfn":case "div":case "dl":case "DOCTYPE":case "doctype":case "dt":case "em":case "fieldset":case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":case "i":case "kbd":case "li":case "noscript":case "ol":case "p":case "pre":case "samp":case "small":case "span":case "strong":case "sub":case "sup":case "title":case "tt":case "u":case "ul":case "var":return false;
case "a":switch(b){case "accesskey":case "charset":case "coords":case "href":case "hreflang":case "name":case "rel":case "rev":case "shape":case "tabindex":case "target":case "type":return true;default:return false}case "area":switch(b){case "shape":switch(c){case "rect":case "circle":case "poly":case "default":return true;default:return false}case "alt":case "coords":case "href":case "nohref":case "target":case "accesskey":case "tabindex":return true;default:return false}case "base":switch(b){case "href":return true;
default:return false}case "bdo":switch(b){case "dir":switch(c){case "href":return true;default:return false}case "xml:lang":case "lang":return true;default:return false}case "blockquote":switch(b){case "cite":return true;default:return false}case "button":switch(b){case "disabled":return c=="disabled";case "type":switch(c){case "button":case "submit":case "reset":return true;default:return false}case "accesskey":case "tabindex":case "name":case "value":return true;default:return false}case "col":case "colgroup":switch(b){case "align":switch(c){case "left":case "center":case "right":case "justify":case "char":return true;
default:return false}case "valign":switch(c){case "top":case "middle":case "bottom":case "baseline":return true;default:return false}case "char":case "charoff":case "span":case "width":return true;default:return false}case "del":switch(b){case "cite":case "datetime":return true;default:return false}case "form":switch(b){case "method":switch(c){case "get":case "post":return true;default:return false}case "action":case "enctype":case "accept":case "accept-charset":return true;default:return false}case "head":switch(b){case "profile":case "dir":case "xml:lang":case "lang":return true;
default:return false}case "html":switch(b){case "dir":case "xml:lang":case "lang":return true;default:return false}case "hr":return false;case "iframe":switch(b){case "align":case "frameborder":case "height":case "width":case "marginheight":case "marginwidth":case "name":case "scrolling":case "src":return true;default:return false}case "img":switch(b){case "alt":case "height":case "width":case "longdesc":case "src":return true;default:return false}case "input":switch(b){case "type":switch(c){case "text":case "password":case "checkbox":case "radio":case "submit":case "reset":case "hidden":case "image":case "file":case "button":return true;
default:return false}case "checked":return c=="checked";case "disabled":return c=="disabled";case "readonly":return c=="readonly";case "name":case "value":case "maxlength":case "src":case "alt":case "accept":case "disabled":case "readonly":case "accesskey":case "tabindex":return true;default:return false}case "ins":switch(b){case "cite":case "datetime":return true;default:return false}case "label":switch(b){case "for":case "accesskey":return true;default:return false}case "label":switch(b){case "legend":return true;
default:return false}case "li":return false;case "link":switch(b){case "media":switch(c){case "screen":case "print":case "projection":case "braille":case "speech":case "all":return true;default:return false}case "href":case "charset":case "hreflang":case "type":case "rel":case "rev":return true;default:return false}case "map":return false;case "meta":switch(b){case "content":case "name":case "http-equiv":case "scheme":return true;default:return false}case "optgroup":switch(b){case "disabled":return c==
"disabled";case "label":return true;default:return false}case "option":switch(b){case "selected":return c=="selected";case "value":return true;default:return false}case "param":switch(b){case "name":case "value":case "type":case "valuetype":return true;default:return false}case "q":switch(b){case "cite":return true;default:return false}case "script":switch(b){case "type":case "src":case "charset":case "defer":return true;default:return false}case "select":switch(b){case "multiple":return c=="multiple";
case "disabled":return c=="disabled";case "name":case "size":case "tabindex":return true;default:return false}case "style":switch(b){case "type":case "media":case "title":case "dir":case "xml:lang":case "lang":return true;default:return false}case "table":switch(b){case "border":case "cellpadding":case "cellspacing":case "frame":case "rules":case "width":case "summary":return true;default:return false}case "thead":case "tbody":case "tfoot":case "tr":switch(b){case "align":switch(c){case "left":case "center":case "right":case "justify":case "char":return true;
default:return false}case "valign":switch(c){case "top":case "middle":case "bottom":case "baseline":return true;default:return false}case "char":case "charoff":return true;default:return false}case "td":case "th":switch(b){case "align":switch(c){case "left":case "center":case "right":case "justify":case "char":return true;default:return false}case "valign":switch(c){case "top":case "middle":case "bottom":case "baseline":return true;default:return false}case "abbr":case "axis":case "char":case "charoff":case "colspan":case "headers":case "rowspan":case "scope":return true;
default:return false}case "textarea":switch(b){case "disabled":return c=="disabled";case "readonly":return c=="readonly";case "rows":case "cols":case "name":case "accesskey":case "tabindex":return true;default:return false}default:return false}}};if(!window.xhtmlFormatting)window.xhtmlFormatting="formatted";if(String.prototype&&!String.prototype.trim)String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")};if(!window.outerXHTML)window.outerXHTML=window.xhtmljs.outerXHTML;
if(!window.innerXHTML)window.innerXHTML=window.xhtmljs.innerXHTML;if(!document.all&&HTMLElement&&HTMLElement.prototype){HTMLElement.prototype.innerXHTML=function(){return window.xhtmljs.innerXHTML(this,true)};HTMLElement.prototype.outerXHTML=function(){return window.xhtmljs.outerXHTML(this,true)}}if(window.jQuery)window.jQuery.fn.xhtml=function(a){if(a)return this.html(a);else{var b="";for(a=0;a<this.length;a++){if(a>0)a+="\n";b+=window.xhtmljs.innerXHTML(this[a],false)}return b}};